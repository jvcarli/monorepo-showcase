(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26241,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(43476);function r(){return(0,t.jsxs)("nav",{className:"flex items-center justify-between border-b border-gray-700 p-4",children:[(0,t.jsx)("a",{href:"/monorepo-showcase/audio-analyzer",className:"cursor-pointer text-2xl font-extrabold text-orange-500",children:"Audio Analyzer"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-white",children:[(0,t.jsxs)("button",{className:"flex cursor-pointer items-center space-x-1 rounded-lg bg-orange-500 p-2 hover:bg-orange-700",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"})}),(0,t.jsx)("div",{className:"font-bold",children:"Upgrade to premium!"})]}),(0,t.jsx)("div",{className:"flex h-10 w-10 cursor-pointer items-center justify-center rounded-full bg-gray-700 text-sm font-bold hover:bg-gray-950",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-person-fill",viewBox:"0 0 16 16",children:(0,t.jsx)("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"})})})]})]})}},65896,(e,t,r)=>{"use strict";function i(e){if(this.size=0|e,this.size<=1||(this.size&this.size-1)!=0)throw Error("FFT size must be a power of two and bigger than 1");this._csize=e<<1;for(var t=Array(2*this.size),r=0;r<t.length;r+=2){let e=Math.PI*r/this.size;t[r]=Math.cos(e),t[r+1]=-Math.sin(e)}this.table=t;for(var i=0,o=1;this.size>o;o<<=1)i++;this._width=i%2==0?i-1:i,this._bitrev=Array(1<<this._width);for(var s=0;s<this._bitrev.length;s++){this._bitrev[s]=0;for(var a=0;a<this._width;a+=2){var n=this._width-a-2;this._bitrev[s]|=(s>>>a&3)<<n}}this._out=null,this._data=null,this._inv=0}t.exports=i,i.prototype.fromComplexArray=function(e,t){for(var r=t||Array(e.length>>>1),i=0;i<e.length;i+=2)r[i>>>1]=e[i];return r},i.prototype.createComplexArray=function(){let e=Array(this._csize);for(var t=0;t<e.length;t++)e[t]=0;return e},i.prototype.toComplexArray=function(e,t){for(var r=t||this.createComplexArray(),i=0;i<r.length;i+=2)r[i]=e[i>>>1],r[i+1]=0;return r},i.prototype.completeSpectrum=function(e){for(var t=this._csize,r=t>>>1,i=2;i<r;i+=2)e[t-i]=e[i],e[t-i+1]=-e[i+1]},i.prototype.transform=function(e,t){if(e===t)throw Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._transform4(),this._out=null,this._data=null},i.prototype.realTransform=function(e,t){if(e===t)throw Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._realTransform4(),this._out=null,this._data=null},i.prototype.inverseTransform=function(e,t){if(e===t)throw Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=1,this._transform4();for(var r=0;r<e.length;r++)e[r]/=this.size;this._out=null,this._data=null},i.prototype._transform4=function(){var e,t,r=this._out,i=this._csize,o=1<<this._width,s=i/o<<1,a=this._bitrev;if(4===s)for(e=0,t=0;e<i;e+=s,t++){let r=a[t];this._singleTransform2(e,r,o)}else for(e=0,t=0;e<i;e+=s,t++){let r=a[t];this._singleTransform4(e,r,o)}var n=this._inv?-1:1,l=this.table;for(o>>=2;o>=2;o>>=2){var h=(s=i/o<<1)>>>2;for(e=0;e<i;e+=s)for(var c=e+h,f=e,d=0;f<c;f+=2,d+=o){let e=f,t=e+h,i=t+h,o=i+h,s=r[e],a=r[e+1],c=r[t],u=r[t+1],p=r[i],m=r[i+1],g=r[o],v=r[o+1],x=l[d],y=n*l[d+1],b=c*x-u*y,_=c*y+u*x,w=l[2*d],j=n*l[2*d+1],T=p*w-m*j,z=p*j+m*w,N=l[3*d],A=n*l[3*d+1],C=g*N-v*A,R=g*A+v*N,M=s+T,B=a+z,k=s-T,E=a-z,F=b+C,D=_+R,S=n*(b-C),U=n*(_-R),L=M+F,O=B+D,P=M-F,I=B-D,W=k+U,K=E-S,q=k-U,G=E+S;r[e]=L,r[e+1]=O,r[t]=W,r[t+1]=K,r[i]=P,r[i+1]=I,r[o]=q,r[o+1]=G}}},i.prototype._singleTransform2=function(e,t,r){let i=this._out,o=this._data,s=o[t],a=o[t+1],n=o[t+r],l=o[t+r+1];i[e]=s+n,i[e+1]=a+l,i[e+2]=s-n,i[e+3]=a-l},i.prototype._singleTransform4=function(e,t,r){let i=this._out,o=this._data,s=this._inv?-1:1,a=2*r,n=3*r,l=o[t],h=o[t+1],c=o[t+r],f=o[t+r+1],d=o[t+a],u=o[t+a+1],p=o[t+n],m=o[t+n+1],g=l+d,v=h+u,x=l-d,y=h-u,b=c+p,_=f+m,w=s*(c-p),j=s*(f-m);i[e]=g+b,i[e+1]=v+_,i[e+2]=x+j,i[e+3]=y-w,i[e+4]=g-b,i[e+5]=v-_,i[e+6]=x-j,i[e+7]=y+w},i.prototype._realTransform4=function(){var e,t,r=this._out,i=this._csize,o=1<<this._width,s=i/o<<1,a=this._bitrev;if(4===s)for(e=0,t=0;e<i;e+=s,t++){let r=a[t];this._singleRealTransform2(e,r>>>1,o>>>1)}else for(e=0,t=0;e<i;e+=s,t++){let r=a[t];this._singleRealTransform4(e,r>>>1,o>>>1)}var n=this._inv?-1:1,l=this.table;for(o>>=2;o>=2;o>>=2){var h=(s=i/o<<1)>>>1,c=h>>>1,f=c>>>1;for(e=0;e<i;e+=s)for(var d=0,u=0;d<=f;d+=2,u+=o){var p=e+d,m=p+c,g=m+c,v=g+c,x=r[p],y=r[p+1],b=r[m],_=r[m+1],w=r[g],j=r[g+1],T=r[v],z=r[v+1],N=l[u],A=n*l[u+1],C=b*N-_*A,R=b*A+_*N,M=l[2*u],B=n*l[2*u+1],k=w*M-j*B,E=w*B+j*M,F=l[3*u],D=n*l[3*u+1],S=T*F-z*D,U=T*D+z*F,L=x+k,O=y+E,P=x-k,I=y-E,W=C+S,K=R+U,q=n*(C-S),G=n*(R-U),H=L+W,V=O+K,Z=P+G,J=I-q;if(r[p]=H,r[p+1]=V,r[m]=Z,r[m+1]=J,0===d){var Q=L-W,X=O-K;r[g]=Q,r[g+1]=X;continue}if(d!==f){var Y=-n*G,$=-n*q,ee=-n*K,et=P+Y,er=-I+$,ei=L+-n*W,eo=-O-ee,es=e+c-d,ea=e+h-d;r[es]=et,r[es+1]=er,r[ea]=ei,r[ea+1]=eo}}}},i.prototype._singleRealTransform2=function(e,t,r){let i=this._out,o=this._data,s=o[t],a=o[t+r];i[e]=s+a,i[e+1]=0,i[e+2]=s-a,i[e+3]=0},i.prototype._singleRealTransform4=function(e,t,r){let i=this._out,o=this._data,s=this._inv?-1:1,a=o[t],n=o[t+r],l=o[t+2*r],h=o[t+3*r],c=a+l,f=a-l,d=n+h,u=s*(n-h);i[e]=c+d,i[e+1]=0,i[e+2]=f,i[e+3]=-u,i[e+4]=c-d,i[e+5]=0,i[e+6]=f,i[e+7]=u}},68045,e=>{"use strict";e.s(["default",()=>s],68045);var t=e.i(43476),r=e.i(71645),i=e.i(65896);async function o(e){if(!e||!e.arrayBuffer)throw Error("decodeAudio: argument must be a File or Blob");let t=await e.arrayBuffer(),r=new AudioContext;return(await r.decodeAudioData(t)).getChannelData(0)}function s(){let[e,s]=(0,r.useState)([]),a=(0,r.useRef)(null),n=e=>{let t=Array.from(e).filter(e=>e.type.startsWith("audio/")).map(e=>({file:e,name:e.name,size:e.size,type:e.type}));s(e=>[...e,...t])},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,i=document.createElement("canvas");i.width=t,i.height=r;let o=i.getContext("2d");if(!o)return null;o.fillStyle="#ffffff",o.fillRect(0,0,t,r),o.strokeStyle="#ff6600",o.lineWidth=2,o.beginPath();let s=e.length/t;for(let i=0;i<t;i++){let t=(1-(e[Math.floor(i*s)]+1)/2)*r;0===i?o.moveTo(i,t):o.lineTo(i,t)}return o.stroke(),i},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,i=document.createElement("canvas");i.width=t,i.height=r;let o=i.getContext("2d");if(!o)return null;o.fillStyle="#ffffff",o.fillRect(0,0,t,r),o.strokeStyle="#0066ff",o.lineWidth=2,o.beginPath();let s=e.length/t,a=Math.max(...e)||1;for(let i=0;i<t;i++){let t=r-e[Math.floor(i*s)]/a*r;0===i?o.moveTo(i,t):o.lineTo(i,t)}return o.stroke(),i},c=(e,t)=>{e.toBlob(e=>{if(!e)return;let r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=t,r.click(),URL.revokeObjectURL(r.href)},"image/png")},f=async()=>{for(let t of e)try{let e=await o(t.file),r=function(e){let t=e.length;if((t=2**Math.floor(Math.log2(t)))<2)throw Error("FFT size must be >= 2");let r=new i.default(t),o=r.createComplexArray();r.realTransform(o,e.subarray(0,t)),r.completeSpectrum(o);let s=new Float32Array(t/2);for(let e=0;e<t/2;e++){let t=o[2*e],r=o[2*e+1];s[e]=Math.sqrt(t*t+r*r)}return s}(e),s=l(e),a=h(r);s&&c(s,"".concat(t.name,"-waveform.png")),a&&c(a,"".concat(t.name,"-spectrum.png"))}catch(e){console.error("Failed to process ".concat(t.name),e)}};return(0,t.jsxs)("div",{className:"flex min-h-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex w-2/3 cursor-pointer items-center justify-center border-r border-gray-700 bg-gray-100 p-8 text-center transition hover:border-gray-700",onDrop:e=>{e.preventDefault(),e.dataTransfer.files&&n(e.dataTransfer.files)},onDragOver:e=>e.preventDefault(),onClick:()=>{var e;return null==(e=a.current)?void 0:e.click()},children:[(0,t.jsx)("input",{ref:a,type:"file",accept:"audio/*",multiple:!0,className:"hidden",onChange:e=>{e.target.files&&n(e.target.files)}}),0===e.length?(0,t.jsx)("div",{className:"rounded-lg border border-dashed border-gray-700 p-36 text-lg",children:"Drop your audios or click here"}):(0,t.jsxs)("div",{className:"text-lg",children:[e.length," audio file",e.length>1?"s":""," loaded."]})]}),(0,t.jsxs)("div",{className:"flex min-h-0 w-1/3 flex-col",children:[(0,t.jsx)("div",{className:"flex-1 space-y-4 overflow-y-auto p-4",children:0===e.length?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("p",{children:["Welcome to the ",(0,t.jsx)("strong",{children:"Audio Analyzer"})," app!"]}),(0,t.jsx)("p",{children:"Upload or drag-and-drop audio files into the interface."}),(0,t.jsx)("p",{children:"Once loaded, you can compute the waveform and frequency spectrum and download them as PNG images."})]}):e.map((e,r)=>{var i;return(0,t.jsxs)("div",{className:"rounded-lg border border-gray-700 bg-white p-4 shadow-sm",children:[(0,t.jsx)("p",{className:"font-semibold",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(i=e.size)<1024?"".concat(i," B"):i<1048576?"".concat((i/1024).toFixed(1)," KB"):"".concat((i/1048576).toFixed(1)," MB")," Â· ",e.type]})]},r)})}),(0,t.jsx)("div",{className:"flex h-28 items-center justify-center border-t border-gray-700",children:(0,t.jsxs)("button",{onClick:f,className:"flex cursor-pointer items-center justify-center space-x-2 rounded-lg bg-orange-500 p-4 px-6 text-2xl font-bold text-white hover:bg-orange-700",children:[(0,t.jsx)("span",{children:"Download"}),(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-download",viewBox:"0 0 16 16",children:[(0,t.jsx)("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),(0,t.jsx)("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"})]})]})})]})]})}}]);